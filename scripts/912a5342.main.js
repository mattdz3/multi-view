"use strict";var Photo=Backbone.Model.extend({idAttribute:"_id",defaults:{url:""}}),PhotoCollection=Backbone.Collection.extend({model:Photo,initialize:function(a){this.url=a.url,this.id=_.uniqueId("collection-"),this.on("add",function(a){new PhotoView({model:a,container:$("."+this.id)})})}}),PhotoView=Backbone.View.extend({className:"list-one",template:_.template($(".image-template").text()),events:{"click .move-to-left":"moveLeft","click .delete":"deleteButton","click .move-to-right":"moveRight"},initialize:function(a){this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"change",this.render),this.$container=a.container,this.$container.append(this.el),this.render()},render:function(){var a=this.template(this.model.attributes);return this.$el.html(a),this},deleteButton:function(){this.model.destroy()},moveRight:function(){var a=_.indexOf(collectionsArray,this.model.collection);if(console.log("hot damn",a),a+1>=collectionsArray.length){var b=collectionsArray[0].add({url:this.model.attributes.url});console.log("AHHHHH!")}else var b=collectionsArray[a+1].add({url:this.model.attributes.url});b.save(),console.log("freshModel is",b),this.model.destroy()},moveLeft:function(){var a=_.indexOf(collectionsArray,this.model.collection);if(console.log("hot damn",a),0>a-1){var b=collectionsArray.slice(-1).add({url:this.model.attributes.url});console.log("AHHHHH!")}else var b=collectionsArray[a-1].add({url:this.model.attributes.url});b.save(),console.log("freshModel is",b),this.model.destroy()}}),collectionsArray=[new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/photos"}),new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/MD-photos"}),new PhotoCollection({url:"http://tiny-pizza-server.herokuapp.com/collections/MD2-photos"})];collectionsArray.forEach(function(a){var b=$("<div></div>");b.addClass(a.id+" container"),$(".collections-container").append(b),a.fetch()});